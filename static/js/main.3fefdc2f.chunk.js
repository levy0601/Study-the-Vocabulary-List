(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/spinner.414a23f5.svg"},,function(e,t,n){e.exports=n(30)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),s=(n(15),n(2)),i=n(1),d=(n(16),{"network-error":"Can not connect to the server, please check your network connection","no valid session":"There is a authentication occur, please login again.","login denied":"The username is empty or contain illegal character, please input username again","action not permitted":"You are not allow to perform such action","no tasks for user":"Can not find the task, please try again","failed to update":"Can not update the task, please try again","task name empty":"the task name is empty, please enter the desired task name","require information missing":"there is require information missing, please try again","no such wordList":"The wordList you want to change has been removed or updated, please check if the wordList exist","no such word":"The word you want to change has been removed or updated, please check if the wordList exist","failed to delete":"Can not delete the task, please try again","not valid input":"The information you provide is empty or only contain empty, please try again"});function l(e){return d[e]||e}n(17),n(18);var u="light",m="dark",f="colorful",h=function(e){var t=e.onThemeChange,n=e.state;return o.a.createElement("div",{className:"theme-setter"},o.a.createElement("span",null,"Theme"),o.a.createElement("select",{id:"sort-by-task-drop-down",onChange:t,value:n.theme},o.a.createElement("option",{value:u},u),o.a.createElement("option",{value:m},m),o.a.createElement("option",{value:f},f)))},w=function(e){var t=e.userProfileState,n=e.selectWordListState,a=e.isLoggedIn,r=e.error,c=e.onLogout,s=e.onThemeChange,i=e.onBack;return o.a.createElement("div",{className:"nav"},r&&o.a.createElement("span",{className:"error-message"}," ",r," "),a&&o.a.createElement("button",{className:"logout action button",onClick:c},"Logout"),n.isSelected&&o.a.createElement("button",{className:"back action button",onClick:i},"Back"),o.a.createElement(h,{onThemeChange:s,state:t}))},p=n(8),E=n.n(p),b=(n(19),function(e){var t=e.onLogin,n=e.setError,r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],u=c[1],m=Object(a.useState)(""),f=Object(i.a)(m,2),h=f[0],w=f[1],p=Object(a.useState)(""),b=Object(i.a)(p,2),g=b[0],j=b[1];return o.a.createElement("div",{className:"login-page"},o.a.createElement("div",{className:"form"},o.a.createElement("p",{className:"message"},g),o.a.createElement("input",{onChange:function(e){w(e.target.value)},placeholder:"username",type:"text"}),s?o.a.createElement("img",{alt:"spinner",src:E.a}):o.a.createElement("button",{onClick:function(){h?(n(""),u(!0),t(h).then(u(!1)).catch((function(e){j(l(e.message)),u(!1)}))):j(d["login denied"])}},"Login")))});function g(e,t){return e.wordName.toUpperCase()<t.wordName.toUpperCase()?-1:e.wordName.toUpperCase()>t.wordName.toUpperCase()?1:0}function j(e,t){return e.wordName.toUpperCase()<t.wordName.toUpperCase()?1:e.wordName.toUpperCase()>t.wordName.toUpperCase()?-1:0}n(20);var v=function(e){return e&&e.replace(/\s/g,"").length},N=function(e){var t=e.wordListId,n=e.wordId,r=e.wordName,c=e.definition,s=e.onDeleteWord,d=e.onUpdateWord,u=e.setErrorState,m=Object(a.useState)(!1),f=Object(i.a)(m,2),h=f[0],w=f[1],p=Object(a.useState)(""),E=Object(i.a)(p,2),b=E[0],g=E[1],j=Object(a.useState)(""),N=Object(i.a)(j,2),L=N[0],k=N[1];return Object(a.useEffect)((function(){g(r),k(c)}),[r,c]),o.a.createElement("li",{className:"word-list-item item ".concat(h?"editable":"")},o.a.createElement("label",{className:"label name-label"},b),o.a.createElement("input",{className:"text-input name-input",type:"text",value:b,onChange:function(e){g(e.target.value)}}),o.a.createElement("label",{className:"label definition-label"},L),o.a.createElement("input",{className:"text-input definition-input",type:"text",value:L,onChange:function(e){k(e.target.value)}}),o.a.createElement("button",{className:"edit",onClick:function(){w(!h)}}," Edit"),o.a.createElement("button",{className:"reset",onClick:function(){g(r),k(c)}},"Undo"),o.a.createElement("button",{className:"delete",onClick:function(){s(t,n)}},"Delete"),o.a.createElement("button",{className:"update",onClick:function(){v(b)&&v(L)?d(t,n,b,L):u(l("not valid input"))}}," Update"))},L=function(e){var t=e.checkBoxOnchange,n=e.selectOnchange,a=e.state;return o.a.createElement("div",{className:"filter-item"},o.a.createElement("input",{type:"checkbox",id:"sortByTaskFilter",onChange:t,value:a.isSort}),o.a.createElement("span",null,"Sort by Name"),o.a.createElement("select",{id:"sort-by-task-drop-down",onChange:n,value:a.order},o.a.createElement("option",{value:"ascending"},"Ascending"),o.a.createElement("option",{value:"descending"},"Descending")))},k=(n(21),function(e){var t,n=e.wordList,r=e.onDeleteWord,c=e.onUpdateWord,d=e.onAddWord,u=e.onRefresh,m=e.onDeleteAllWord,f=e.setErrorState,h=Object(a.useState)(""),w=Object(i.a)(h,2),p=w[0],E=w[1],b=Object(a.useState)(""),k=Object(i.a)(b,2),O=k[0],S=k[1],W=Object(a.useState)({isSort:!1,order:"ascending"}),y=Object(i.a)(W,2),C=y[0],I=y[1],P=n.wordListId,D=Object.values(n.words);return C.isSort&&("ascending"===C.order&&(D=D.sort(g)),"descending"===C.order&&(D=D.sort(j))),t=D.map((function(e){return o.a.createElement(N,{wordName:e.wordName,definition:e.definition,onUpdateWord:c,onDeleteWord:r,wordId:e.wordId,wordListId:P,key:e.wordId,setErrorState:f})})),o.a.createElement("div",{className:"word-list"},o.a.createElement("h3",null," ",n.wordListName," "),o.a.createElement("div",{className:"list-management"},o.a.createElement("button",{className:"button",onClick:u},"Refresh"),o.a.createElement("button",{className:"button delete",onClick:function(){m(P)}},"Delete")),o.a.createElement("div",{className:"list-filter"},o.a.createElement(L,{checkBoxOnchange:function(){I(Object(s.a)({},C,{isSort:!C.isSort}))},selectOnchange:function(e){I(Object(s.a)({},C,{order:e.target.value}))},state:C})),o.a.createElement("ul",null,t),o.a.createElement("div",{className:"add-item"},o.a.createElement("label",{className:"new-word"},"Add Task"),o.a.createElement("span",null,"Word"),o.a.createElement("input",{className:"text-input new-word-name-input",value:p,onChange:function(e){E(e.target.value)}}),o.a.createElement("span",null,"Definition"),o.a.createElement("input",{className:"text-input new-definition-input",value:O,onChange:function(e){S(e.target.value)}}),o.a.createElement("button",{className:"add",onClick:function(){v(p)&&v(O)?(d(P,p,O),S(""),E("")):f(l("not valid input"))}},"Add")))}),O=(n(22),n(23),function(e){var t=e.word,n=e.definition;return o.a.createElement("div",{className:"flip-card"},o.a.createElement("div",{className:"flip-card-inner"},o.a.createElement("div",{className:"flip-card-front"},o.a.createElement("p",{className:"word"},t)),o.a.createElement("div",{className:"flip-card-back"},o.a.createElement("p",{className:"definition"},n," "))))}),S=(n(24),function(e){var t=e.wordListArray,n=Object(a.useState)(0),r=Object(i.a)(n,2),c=r[0],s=r[1];return o.a.createElement("div",{className:"flip-card-controller"},o.a.createElement("p",{className:"flip-card-title"},"Flash Card"),o.a.createElement(O,{word:t[c]?t[c].wordName:"",definition:t[c]?t[c].definition:""}),o.a.createElement("div",{className:"controller"},o.a.createElement("button",{className:"decrement",onClick:function(){s(c-1<0?0:c-1)}}," ","<"," "),o.a.createElement("button",{className:"increment",onClick:function(){s(c+1>t.length-1?t.length-1:c+1)}}," ",">"," ")))}),W=n(9),y=(n(25),function(e){var t=e.word,n=e.onCheckAnswer;return o.a.createElement("button",{className:"button option",onClick:function(){n(t.definition)}}," ",t.definition)}),C=function(e){var t,n=e.word,r=e.testOptions,c=Object(a.useState)(0),s=Object(i.a)(c,2),d=s[0],l=s[1],u=r.map((function(e){return o.a.createElement(y,{onCheckAnswer:m,word:e,key:e.wordId})}));function m(e){e===n.definition?l(1):l(2)}return t=1===d?o.a.createElement("p",{className:"word-test-message correct"}," Correct"):2===d?o.a.createElement("p",{className:"word-test-message wrong"}," Your are wrong, try again"):o.a.createElement("p",{className:"word-test-message"}," "),o.a.createElement("div",{className:"word-test"},t,o.a.createElement("p",{className:"word"}," ",n.wordName),o.a.createElement("div",{className:"word-test-options"},u))};n(26);function I(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}return e}var P=function(e,t){if(0===t.length)return[];if(1===t.length)return t;if(t.length<=4)return I(t);var n=t.filter((function(t){return t.wordName!==e.wordName}));n=I(n);var a,o,r=(a=0,o=n.length-3,a=Math.ceil(a),o=Math.floor(o),Math.floor(Math.random()*(o-a))+a),c=n.slice(r,r+3);return c.push(e),I(c)},D=function(e){var t=e.wordListArray,n=Object(a.useState)(0),r=Object(i.a)(n,2),c=r[0],s=r[1];var d=Object(W.a)(t),l=P(t[c],d);return o.a.createElement("div",{className:"word-test-controller"},o.a.createElement("p",{className:"word-test-title"},"Word Test"),o.a.createElement(C,{word:t[c]?t[c]:"",testOptions:l,key:c}),o.a.createElement("div",{className:"controller"},o.a.createElement("button",{className:"decrement",onClick:function(){s(c-1<0?0:c-1)}}," ","<"," "),o.a.createElement("button",{className:"increment",onClick:function(){s(c+1>t.length-1?t.length-1:c+1)}}," ",">"," ")))},A=function(e){var t=e.wordList,n=e.onDeleteWord,r=e.onUpdateWord,c=e.onAddWord,s=e.onRefreshList,d=e.onDeleteAllWord,l=e.setErrorState,u=Object(a.useState)(!0),m=Object(i.a)(u,2),f=m[0],h=m[1];return o.a.createElement("div",{className:"word-list-page"},o.a.createElement("button",{className:"button",onClick:function(){h(!0)}}," Flash Card"),o.a.createElement("button",{className:"button",onClick:function(){h(!1)}}," Word Test"),!f&&o.a.createElement(D,{word:"cpu",definition:"cpu",wordListArray:Object.values(t.words)}),f&&o.a.createElement(S,{wordListArray:Object.values(t.words)}),o.a.createElement(k,{wordList:t,onDeleteWord:n,onUpdateWord:r,onAddWord:c,onRefresh:s,onDeleteAllWord:d,setErrorState:l}))},T=(n(27),function(e){var t=e.wordListId,n=e.wordListName,a=e.numberOfWord,r=e.onWordListSelect,c=e.isEditState,s=e.onDeleteWordList;return o.a.createElement("div",{className:"word-list-description"},o.a.createElement("div",{className:"word-list-description-wrapper",onClick:function(){r(t)}},o.a.createElement("p",{className:"word-list-name"},n),o.a.createElement("p",{className:"number-of-word"},a," terms")),c&&o.a.createElement("button",{className:"button",onClick:function(){s(t)}}," delete "))}),U=(n(28),function(e){var t,n=e.wordLists,a=e.onWordListSelect,r=e.isEditState,c=e.onDeleteWordList;return t=Object.values(n).map((function(e){return o.a.createElement(T,{numberOfWord:Object.values(e.words).length,wordListName:e.wordListName,key:e.wordListId,wordListId:e.wordListId,onWordListSelect:a,isEditState:r,onDeleteWordList:c})})),o.a.createElement("div",{className:"select-word-list-page"},t)}),x=(n(29),function(e){var t=e.userProfileState,n=e.wordListState,r=e.onWordListSelect,c=e.onDeleteAllList,s=e.onDeleteWordList,d=e.onCreateWordList,u=e.setErrorState,m=Object(a.useState)(""),f=Object(i.a)(m,2),h=f[0],w=f[1],p=Object(a.useState)(!1),E=Object(i.a)(p,2),b=E[0],g=E[1],j=Object(a.useState)(!1),N=Object(i.a)(j,2),L=N[0],k=N[1],O=[];return o.a.createElement("div",{className:"homepage"},o.a.createElement("div",{className:"homepage-description description"},o.a.createElement("h3",{className:"user"}," ",t.username.toUpperCase()+"'s study set"),o.a.createElement("button",{className:"create-word-list  button",onClick:function(){g(!b)}},"Create"),o.a.createElement("button",{className:"edit-word-list button",onClick:function(){k(!L)}},"Edit"),o.a.createElement("button",{className:"delete-all-word-list delete-button button",onClick:c},"Delete")),o.a.createElement(U,{wordLists:n,onWordListSelect:r,isEditState:L,onDeleteWordList:s}),b&&o.a.createElement("div",{className:"home-page-add-list"},o.a.createElement("span",{className:"new-task"},"WordList Name"),o.a.createElement("input",{className:"text-input new-task-input",onChange:function(e){w(e.target.value)},value:h}),o.a.createElement("button",{className:"add",onClick:function(){v(h)?(d(h,O),w("")):u(l("not valid input"))}},"Add")))}),B=n(3);function J(e,t,n){return{wordListName:e,wordListId:t,words:n||{}}}function M(e,t,n){return{wordName:e,definition:t,wordId:n}}var R=function(e,t){switch(t.type){case"setWordList":var n=t.wordList;return Object(s.a)({},n);case"getWordList":return e;case"postWordList":var a=J(t.wordListName,t.wordListId,t.words);return Object(s.a)({},e,Object(B.a)({},t.wordListId,a));case"updateWordList":var o=J(t.wordListName,t.wordListId,t.words);return Object(s.a)({},e,Object(B.a)({},t.wordListId,o));case"deleteWordList":var r=Object(s.a)({},e);return delete r[t.wordListId],r;case"deleteAllWordList":return{};case"postWord":var c=Object(s.a)({},e);return c[t.wordListId].words[t.wordId]=M(t.wordName,t.definition,t.wordId),c;case"updateWord":var i=Object(s.a)({},e);return i[t.wordListId].words[t.wordId]=M(t.wordName,t.definition,t.wordId),i;case"deleteWord":var d=Object(s.a)({},e);return delete d[t.wordListId].words[t.wordId],d;case"deleteAllWord":var l=Object(s.a)({},e);return l[t.wordListId].words={},l;default:return e}};var H=function(){var e,t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),m=u[0],f=u[1],h=Object(a.useState)({}),p=Object(i.a)(h,2),E=p[0],g=p[1],j=Object(a.useState)({isSelected:!1,wordListId:null}),v=Object(i.a)(j,2),N=v[0],L=v[1],k=Object(a.useReducer)(R,{}),O=Object(i.a)(k,2),S=O[0],W=O[1];function y(e){T(),function(e){return fetch("/wordList/".concat(e),{method:"GET"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username||e).then((function(e){C(e.data)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))}function C(e){W({type:"setWordList",wordList:e})}function I(){g({}),T(),c(!1),C({}),fetch("/session",{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))}))}function P(){return fetch("/session",{method:"GET"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return D(e.data.username,e.data.theme),e})).then((function(e){return y(e.data.username),e})).then((function(e){c(!0),document.body.setAttribute("data-theme",e.data.theme)})).catch((function(e){f(l(e.message))}))}function D(e,t){g(Object(s.a)({},E,{username:e,theme:t}))}function T(){f("")}if(Object(a.useEffect)((function(){P()}),[]),r)if(N.isSelected){var U=S[N.wordListId];e=o.a.createElement(A,{wordList:U,onAddWord:function(e,t,n){T(),function(e,t,n){return fetch("/word/".concat(e,"/").concat(t),{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({word:n})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e,{wordName:t,definition:n}).then((function(a){var o=a.data.wordId;!function(e,t,n,a){W({type:"postWord",wordListId:e,wordId:t,wordName:n,definition:a})}(e,o,t,n)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onUpdateWord:function(e,t,n,a){T(),function(e,t,n,a){return fetch("/word/".concat(e,"/").concat(t,"/").concat(n),{method:"PUT",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({word:a})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e,t,{wordName:n,definition:a}).then((function(){!function(e,t,n,a){W({type:"updateWord",wordListId:e,wordId:t,wordName:n,definition:a})}(e,t,n,a)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onDeleteWord:function(e,t){T(),function(e,t,n){return fetch("/word/".concat(e,"/").concat(t,"/").concat(n),{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e,t).then((function(){!function(e,t){W({type:"deleteWord",wordListId:e,wordId:t})}(e,t)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onDeleteAllWord:function(e){T(),function(e,t){return fetch("/word/".concat(e,"/").concat(t),{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e).then((function(){!function(e){W({type:"deleteAllWord",wordListId:e})}(e)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onRefreshList:y,setErrorState:f})}else e=o.a.createElement("div",null,o.a.createElement(x,{wordListState:S,userProfileState:E,onWordListSelect:function(e){T(),L({isSelected:!0,wordListId:e})},onDeleteAllList:function(){var e;T(),(e=E.username,fetch("/wordList/".concat(e),{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))).then((function(){W({type:"deleteAllWordList"})})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onDeleteWordList:function(e){T(),function(e,t){return fetch("/wordList/".concat(e,"/").concat(t),{method:"DELETE"}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e).then((function(){!function(e){W({type:"deleteWordList",wordListId:e})}(e)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onCreateWordList:function(e,t){T(),function(e,t,n){return fetch("/wordList/".concat(e),{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({wordListName:t,wordList:n})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(E.username,e,t).then((function(e){!function(e,t,n){W({type:"postWordList",wordListId:e,wordListName:t,wordList:n})}(e.data.wordListId,e.data.wordListName,e.data.words)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},setErrorState:f}));else e=o.a.createElement("p",null);return o.a.createElement("div",{className:"App"},r&&o.a.createElement(w,{userProfileState:E,isLoggedIn:r,onLogout:I,error:m,onThemeChange:function(e){T();var t=e.target.value;(function(e,t){return fetch("/theme/".concat(e),{method:"PUT",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({theme:t})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))})(E.username,t).then((function(){D(E.username,t),document.body.setAttribute("data-theme",t)})).catch((function(e){"no valid session"===e.message&&I(),f(l(e.message))}))},onBack:function(){T(),L({isSelected:!1,wordListId:null})},selectWordListState:N}),!r&&o.a.createElement(b,{onLogin:function(e){return function(e){return fetch("/session",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({username:e})}).catch((function(){return Promise.reject({code:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(e).then((function(){P()}))},setError:f}),e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.3fefdc2f.chunk.js.map